---
import { getLangFromUrl, useTranslations } from '../i18n/utils'

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
const { date, title, url, minRead, heading = 1, size = '.heading-1' } = Astro.props
const formattedDate = date.toISOString().split('T')[0]
---
<li><a href={url}>
  { heading === 6 && <h6 class={size}>{title}</h6> }
  { heading === 5 && <h5 class={size}>{title}</h5> }
  { heading === 4 && <h4 class={size}>{title}</h4> }
  { heading === 3 && <h3 class={size}>{title}</h3> }
  { heading === 2 && <h2 class={size}>{title}</h2> }
  { heading === 1 && <h1 class={size}>{title}</h1> }
  <div>
    <small>{formattedDate}</small>
    <small>{minRead} {t('min_read')}</small>
  </div>
</a></li>

<style>
  li {
    display: flex;
    align-items: stretch;
    margin: 0;
  }
  a {
    background-color: var(--light-color);
    box-shadow: 0 0 1px #aaaaaa;
    color: var(--dark-color) !important;
    display: flex;
    flex-direction: column;
    padding: 1rem 1.5rem;
    text-decoration: none;
    width: 100%;
  }
  html.dark a {
    background-color: var(--dark-color);
    color: var(--light-color) !important;
  }
  a:hover {
    box-shadow: 0 0 1px var(--highlight-color);
  }
  html.dark a:hover {
    box-shadow: 0 0 1px var(--dark-highlight-color);
  }
  a div {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: space-between;
    margin-top: auto;
  }
</style>